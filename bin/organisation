#!/usr/bin/env bash

if [ -z "${ARGUMENT}" ]; then
cat << ENDOFHELP
usage: boat org|organisation <action> <args>

boat org list
    List all your ssh keys.
    Example: boat org list

boat org id <organisation-id>
    Get organisation by id
    Example: boat org id 12345

boat org get <organisation-name>
    Get organisation by name
    Example: boat org get example-corp

boat org create <organisation-name>
    Creating a new organisation.
    Rxample: boat org create example-corp

boat org delete <name>
    Deleting an organisation.
    Example: boat org delete example-corp

ENDOFHELP
  exit 1
fi

case "${ARGUMENT}" in
"id")
  echo_json "$(api_curl GET /organisation/$3)"
  ;;

"get")
  echo_json "$(api_curl GET /organisation/$3/byname)"
  ;;

"list")
  echo_json "$(api_curl GET /organisation)"
  ;;

"create")  
  echo_json "$(api_curl POST /organisation name=$3)"
  ;;

"delete")
  echo_json "$(api_curl DELETE /organisation/$3/byname)"
  ;;

*)
  echo "ERROR! Unknown organisation command. Try 'boat org' or the online documentation"
  echo "       for more information: ${LONGBOAT_DOCS}"
  exit 1
  ;;
esac

