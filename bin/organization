#!/usr/bin/env bash

if [ -z "${ARGUMENT}" ]; then
cat << ENDOFHELP
usage: boat org|organization <action> <args>

boat org list
    List all your ssh keys.
    Example: boat org list

boat org id <organization-id>
    Get organization by id
    Example: boat org id 12345

boat org get <organization-name>
    Get organization by name
    Example: boat org get example-corp

boat org create <organization-name>
    Creating a new organization.
    Rxample: boat org create example-corp

boat org delete <name>
    Deleting an organization.
    Example: boat org delete example-corp

ENDOFHELP
  exit 1
fi

case "${ARGUMENT}" in
"id")
  echo_json "$(api_curl GET /organization/$3)"
  ;;

"get")
  echo_json "$(api_curl GET /organization/$3/byname)"
  ;;

"list")
  echo_json "$(api_curl GET /organization)"
  ;;

"create")  
  # FIXME: Optional uid/login during create ?
  echo_json "$(api_curl POST /organization name=$3)"
  ;;

"delete")
  echo_json "$(api_curl DELETE /organization/$3/byname)"
  ;;

*)
  echo "ERROR! Unknown organization command. Try 'boat org' or the online documentation"
  echo "       for more information: ${LONGBOAT_DOCS}"
  exit 1
  ;;
esac

